(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{36:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r,c,a,o,i,s,u,b,j,l,d,p,h,O,f,x,m,g,v,w,k,y,S,C,z,L,I,P,E,F,H,A,D,$,_,M,Y,N,U,q,J,B,T,G,R,K,Q=t(27),V=t.n(Q),W=(t(36),t(4)),X=t(2),Z=t(1),ee=t(3),ne=t(12),te=t(6),re=Object(Z.createContext)(null),ce="token",ae=function(e){return localStorage.setItem(ce,e)},oe=function(){return localStorage.getItem(ce)},ie="#4A4A4A",se="#dbdbdb",ue="#3273DC",be=t(0),je=ee.a.header(r||(r=Object(X.a)(["\n  background: white;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid ",";\n"])),se),le=ee.a.div(c||(c=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 0 auto;\n  width: 50rem;\n\n  @media screen and (max-width: 1024px) {\n    width: 100%;\n  }\n"]))),de=ee.a.div(a||(a=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex: 1;\n\n  @media screen and (max-width: 1024px) {\n    & {\n      display: ",";\n      flex-direction: column;\n      align-items: center;\n      width: 100%;\n      background: white;\n      position: absolute;\n      top: 3.25rem;\n      box-shadow: 0 8px 16px #0a0a0a1a;\n    }\n  }\n"])),(function(e){return e.isHamburgerOpen?"flex":"none"})),pe=Object(ee.a)(ne.b)(o||(o=Object(X.a)(["\n  font-size: 1.5rem;\n  font-weight: 600;\n  color: ",";\n  cursor: pointer;\n  padding: 0.5rem 1rem;\n  line-height: 1.5;\n\n  &:hover {\n    color: ",";\n  }\n\n  @media screen and (max-width: 1024px) {\n    &:hover {\n      background-color: #0000000d;\n    }\n  }\n"])),ie,ue),he=ee.a.div(i||(i=Object(X.a)(["\n  display: flex;\n  align-items: center;\n\n  @media screen and (max-width: 1024px) {\n    & {\n      flex-direction: column;\n      width: 100%;\n      padding: 0.5rem;\n    }\n\n    & + & {\n      box-shadow: 0 8px 16px #0a0a0a1a;\n    }\n  }\n"]))),Oe=Object(ee.a)(ne.c)(s||(s=Object(X.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  font-size: 1.1rem;\n  color: ",";\n  padding: 0.5rem 1rem;\n  line-height: 1.5;\n\n  &:hover {\n    color: ",";\n  }\n\n  @media screen and (max-width: 1024px) {\n    & {\n      width: 100%;\n    }\n\n    &:hover {\n      background-color: #0000000d;\n    }\n  }\n"])),ie,ue),fe=ee.a.div(u||(u=Object(X.a)(["\n  position: relative;\n  width: 3.25rem;\n  height: 3.25rem;\n  cursor: pointer;\n\n  &:hover {\n    background-color: #0000000d;\n  }\n\n  @media screen and (min-width: 1024px) {\n    & {\n      display: none;\n    }\n  }\n"]))),xe=ee.a.span(b||(b=Object(X.a)(["\n  display: block;\n  background-color: ",";\n  width: 1rem;\n  height: 1px;\n  position: absolute;\n  left: calc(50% - 0.5rem);\n  transition: transform 300ms ease, opacity 300ms ease;\n"])),ie),me=Object(ee.a)(xe)(j||(j=Object(X.a)(["\n  top: calc(50% - calc(1rem - 6px) / 2);\n  transform-origin: top left;\n  transform: rotate(",") translateY(",");\n"])),(function(e){return e.isHamburgerOpen&&"45deg"}),(function(e){return e.isHamburgerOpen&&"-1px"})),ge=Object(ee.a)(xe)(l||(l=Object(X.a)(["\n  top: 50%;\n  opacity: ",";\n"])),(function(e){return e.isHamburgerOpen&&0})),ve=Object(ee.a)(xe)(d||(d=Object(X.a)(["\n  top: calc(50% + calc(1rem - 6px) / 2);\n  transform-origin: bottom left;\n  transform: rotate(",");\n"])),(function(e){return e.isHamburgerOpen&&"-45deg"})),we={color:ue},ke=function(){var e=Object(Z.useContext)(re),n=e.user,t=e.setUser,r=Object(te.g)(),c=Object(te.f)(),a=Object(Z.useState)(!1),o=Object(W.a)(a,2),i=o[0],s=o[1];return Object(be.jsx)(je,{children:Object(be.jsxs)(le,{children:[Object(be.jsx)(pe,{to:"/",onClick:function(){return s(!1)},children:"Large"}),Object(be.jsxs)(de,{isHamburgerOpen:i,children:[Object(be.jsxs)(he,{children:[Object(be.jsx)(Oe,{to:"/list",activeStyle:we,onClick:function(){return s(!1)},children:"\u6587\u7ae0\u5217\u8868"}),n&&Object(be.jsx)(Oe,{to:"/new",activeStyle:we,onClick:function(){return s(!1)},children:"\u767c\u5e03\u6587\u7ae0"}),Object(be.jsx)(Oe,{to:"/about",activeStyle:we,onClick:function(){return s(!1)},children:"About"})]}),Object(be.jsx)(he,{children:n?Object(be.jsx)(Oe,{to:"/",onClick:function(){ae(""),t(null),s(!1),"/"!==r.pathname&&c.push("/")},children:"\u767b\u51fa"}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Oe,{to:"/register",activeStyle:we,onClick:function(){return s(!1)},children:"\u8a3b\u518a"}),Object(be.jsx)(Oe,{to:"/login",activeStyle:we,onClick:function(){return s(!1)},children:"\u767b\u5165"})]})})]}),Object(be.jsxs)(fe,{onClick:function(){s((function(e){return!e}))},children:[Object(be.jsx)(me,{isHamburgerOpen:i}),Object(be.jsx)(ge,{isHamburgerOpen:i}),Object(be.jsx)(ve,{isHamburgerOpen:i})]})]})})},ye=ee.a.footer(p||(p=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-top: 1px solid ",";\n  padding-top: 2rem;\n  margin: 5rem auto;\n  font-size: 0.9rem;\n  \n  @media screen and (min-width: 1024px) {\n    width: 50rem;\n  }\n"])),se),Se=function(){return Object(be.jsxs)(ye,{children:[Object(be.jsxs)("pre",{children:["\xa9 2021 Allen  Powered by ",Object(be.jsx)("a",{href:"https://reactjs.org/",rel:"noopener noreferrer",target:"_blank",children:"React"})]}),Object(be.jsx)("a",{href:"https://github.com/rockyooooooo/react-blog",rel:"noopener noreferrer",target:"_blank",children:"GitHub"})]})},Ce=t(14),ze=t(31),Le=t(20),Ie=t.n(Le),Pe=ee.a.div(h||(h=Object(X.a)(["\n  padding: 0.5rem 1.5rem;\n  display: flex;\n  align-items: flex-end;\n  gap: 1rem;\n  border-left: 3px solid transparent;\n\n  &:hover {\n    border-left-color: black;\n  }\n\n  @media screen and (max-width: 1024px) {\n    & {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 0;\n    }\n  }\n"]))),Ee=Object(ee.a)(ne.b)(O||(O=Object(X.a)(["\n  color: #333;\n  border-bottom: 1px dotted transparent;\n  line-height: 1.125;\n\n  &:hover {\n    border-bottom-color: darkgray;\n  }\n"]))),Fe=ee.a.time(f||(f=Object(X.a)(["\n  flex-shrink: 0;\n  color: #757575;\n  font-size: 0.9rem;\n  font-family: monospace;\n"]))),He=function(e){var n=e.post,t=n.title,r=n.createdAt;return Object(be.jsxs)(Pe,{children:[Object(be.jsx)(Fe,{children:Ie()(r).format("MM\u6708DD\u65e5")}),Object(be.jsx)(Ee,{to:"/posts/".concat(n.id),children:t})]})},Ae=t(5),De=t.n(Ae),$e=t(8),_e="https://student-json-api.lidemy.me",Me="createdAt",Ye="desc",Ne=function(){var e=Object($e.a)(De.a.mark((function e(){var n,t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_e,"/posts?_sort=").concat(Me,"&_order=").concat(Ye));case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object($e.a)(De.a.mark((function e(n){var t,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_e,"/posts?_page=").concat(n,"&_limit=").concat(5,"&_sort=").concat(Me,"&_order=").concat(Ye));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),qe=function(){var e=Object($e.a)(De.a.mark((function e(n){var t,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_e,"/posts/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Je=function(){var e=Object($e.a)(De.a.mark((function e(n){var t,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_e,"/users/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Be=function(){var e=Object($e.a)(De.a.mark((function e(n){var t,r,c,a,o;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.password,c=n.nickname,e.next=3,fetch("".concat(_e,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:c,username:t,password:r})});case 3:return a=e.sent,e.next=6,a.json();case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Te=function(){var e=Object($e.a)(De.a.mark((function e(n,t){var r,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_e,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:n,password:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object($e.a)(De.a.mark((function e(){var n,t,r;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=oe(),e.prev=1,e.next=4,fetch("".concat(_e,"/me"),{headers:{authorization:"Bearer ".concat(n)}});case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok in getMe.");case 7:return e.next=9,t.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{ok:0,data:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object($e.a)(De.a.mark((function e(n,t){var r,c,a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oe(),e.prev=1,e.next=4,fetch("".concat(_e,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(r)},body:JSON.stringify({title:n,body:t})});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok in newPost.");case 7:return e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",{ok:0,data:e.t0});case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n,t){return e.apply(this,arguments)}}(),Ke=ee.a.div(x||(x=Object(X.a)(["\n  @media screen and (max-width: 1024px) {\n    & {\n      width: 100%;\n    }\n  }\n"]))),Qe=ee.a.div(m||(m=Object(X.a)(["\n  margin-bottom: 3rem;\n"]))),Ve=ee.a.div(g||(g=Object(X.a)(["\n  font-size: 1.5rem;\n  margin-bottom: 1.5rem;\n  line-height: 1.125;\n"]))),We=ee.a.div(v||(v=Object(X.a)(["\n  border-left: 1px solid ","\n"])),se),Xe=function(e){var n=e.setIsLoading,t=Object(Z.useState)([]),r=Object(W.a)(t,2),c=r[0],a=r[1],o=Object(Z.useState)([]),i=Object(W.a)(o,2),s=i[0],u=i[1];return Object(Z.useLayoutEffect)((function(){n(!0),Ne().then((function(e){a(e),n(!1)}))}),[]),Object(Z.useEffect)((function(){var e,n=[],t=Object(ze.a)(c);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(new Date(r.createdAt).getFullYear())}}catch(a){t.e(a)}finally{t.f()}u(Object(Ce.a)(new Set(n)))}),[c]),Object(be.jsx)(Ke,{children:s.map((function(e){return Object(be.jsxs)(Qe,{children:[Object(be.jsx)(Ve,{children:e}),Object(be.jsx)(We,{children:c.filter((function(n){return new Date(n.createdAt).getFullYear()===e})).map((function(e){return Object(be.jsx)(He,{post:e},e.id)}))})]},e)}))})},Ze=ee.a.form(w||(w=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  width: 15rem;\n  margin: 0 auto;\n"]))),en=ee.a.input(k||(k=Object(X.a)(["\n  padding: 0.25rem;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n  transition: border-bottom 300ms ease;\n\n  &:focus {\n  border-bottom: 1px solid black;\n  }\n"])),se),nn=ee.a.button(y||(y=Object(X.a)(["\n  margin-top: 1rem;\n  padding: 0.25rem;\n  font-size: 0.9rem;\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n"]))),tn=ee.a.p(S||(S=Object(X.a)(["\n  color: red;\n"]))),rn=function(e){var n=e.setIsLoading,t=Object(Z.useContext)(re).setUser,r=Object(Z.useState)(""),c=Object(W.a)(r,2),a=c[0],o=c[1],i=Object(Z.useState)(""),s=Object(W.a)(i,2),u=s[0],b=s[1],j=Object(Z.useState)(""),l=Object(W.a)(j,2),d=l[0],p=l[1],h=Object(te.f)(),O=function(){var e=Object($e.a)(De.a.mark((function e(r){var c,o,i,s,b;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),p(null),n(!0),e.next=5,Te(a,u);case 5:if(c=e.sent,o=c.message,i=c.token,c.ok){e.next=11;break}return p(o),n(!1),e.abrupt("return");case 11:return ae(i),e.next=14,Ge();case 14:if(s=e.sent,b=s.data,s.ok){e.next=21;break}return ae(null),p(b),n(!1),e.abrupt("return");case 21:t(b),n(!1),h.push("/");case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(be.jsxs)(Ze,{onSubmit:O,children:[Object(be.jsx)("h2",{children:"\u767b\u5165"}),Object(be.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(be.jsx)(en,{id:"username",value:a,onChange:function(e){return o(e.target.value)},required:!0}),Object(be.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(be.jsx)(en,{id:"password",type:"password",value:u,onChange:function(e){return b(e.target.value)},required:!0}),Object(be.jsx)(nn,{children:"\u767b\u5165"}),d&&Object(be.jsx)(tn,{children:d})]})},cn=ee.a.div(C||(C=Object(X.a)(["\n  margin: 0 auto;\n  \n  @media screen and (min-width: 1024px) {\n    width: 50rem;\n  }\n"]))),an=ee.a.h2(z||(z=Object(X.a)(["\n  margin-bottom: 1rem;\n  font-size: 2rem;\n  font-weight: 400;\n  line-height: 1.125;\n  color: ",";\n"])),"#363636"),on=ee.a.div(L||(L=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 0.75rem;\n"]))),sn=ee.a.span(I||(I=Object(X.a)(["\n  font-size: 1rem;\n"]))),un=ee.a.span(P||(P=Object(X.a)(["\n  color: ",";\n  font-size: 0.9rem;\n"])),ie),bn=ee.a.main(E||(E=Object(X.a)(["\n  white-space: pre-wrap;\n  margin-bottom: 4rem;\n  color: ",";\n  font-size: 1.1rem;\n"])),ie),jn=function(e){var n=e.setIsLoading,t=Object(te.h)().id,r=Object(Z.useState)(null),c=Object(W.a)(r,2),a=c[0],o=c[1],i=Object(Z.useState)(null),s=Object(W.a)(i,2),u=s[0],b=s[1];return Object(Z.useLayoutEffect)((function(){n(!0),qe(t).then((function(e){o(e)}))}),[t]),Object(Z.useEffect)((function(){a&&(Je(a.userId).then((function(e){b(e)})),n(!1))}),[a]),Object(be.jsx)(be.Fragment,{children:a&&u&&Object(be.jsxs)(cn,{children:[Object(be.jsx)(an,{children:a.title}),Object(be.jsxs)(on,{children:[Object(be.jsx)(sn,{children:u&&u.nickname}),Object(be.jsx)(un,{children:Ie()(a.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5")})]}),Object(be.jsx)(bn,{children:a.body})]})})},ln=function(e){var n=e.setIsLoading,t=Object(Z.useContext)(re).setUser,r=Object(Z.useState)(""),c=Object(W.a)(r,2),a=c[0],o=c[1],i=Object(Z.useState)(""),s=Object(W.a)(i,2),u=s[0],b=s[1],j=Object(Z.useState)(""),l=Object(W.a)(j,2),d=l[0],p=l[1],h=Object(Z.useState)(""),O=Object(W.a)(h,2),f=O[0],x=O[1],m=Object(te.f)(),g=function(){var e=Object($e.a)(De.a.mark((function e(r){var c,o,i,s,b;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),x(null),n(!0),e.next=5,Be({username:a,password:u,nickname:d});case 5:if(c=e.sent,o=c.message,i=c.token,c.ok){e.next=11;break}return x(o),n(!1),e.abrupt("return");case 11:return ae(i),e.next=14,Ge();case 14:if(s=e.sent,b=s.data,s.ok){e.next=21;break}return ae(null),x(b),n(!1),e.abrupt("return");case 21:t(b),n(!1),m.push("/");case 24:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(be.jsxs)(Ze,{onSubmit:g,children:[Object(be.jsx)("h2",{children:"\u8a3b\u518a"}),Object(be.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(be.jsx)(en,{id:"username",value:a,onChange:function(e){return o(e.target.value)},required:!0}),Object(be.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(be.jsx)(en,{id:"password",type:"password",value:u,onChange:function(e){return b(e.target.value)},required:!0}),Object(be.jsx)("label",{htmlFor:"nickname",children:"Nickname:"}),Object(be.jsx)(en,{id:"nickname",value:d,onChange:function(e){return p(e.target.value)},required:!0}),Object(be.jsx)(nn,{children:"\u8a3b\u518a"}),f&&Object(be.jsx)(tn,{children:f})]})},dn=Object(ee.a)(Ze)(F||(F=Object(X.a)(["\n  gap: 1rem;\n  width: 50rem;\n"]))),pn=ee.a.textarea(H||(H=Object(X.a)(["\n  resize: none;\n  padding: 0.5rem;\n  font-family: inherit;\n  font-size: 1rem;\n  height: 25rem;\n  border-color: ",";\n  outline: none;\n  transition: border-color 300ms ease;\n\n  &:focus {\n    border: 1px solid black;\n  }\n"])),se),hn=function(){var e=Object(Z.useState)(""),n=Object(W.a)(e,2),t=n[0],r=n[1],c=Object(Z.useState)(""),a=Object(W.a)(c,2),o=a[0],i=a[1],s=Object(te.f)(),u=function(){var e=Object($e.a)(De.a.mark((function e(n){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Re(t,o);case 3:s.push("/");case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(be.jsxs)(dn,{onSubmit:u,children:[Object(be.jsx)("label",{htmlFor:"title",children:"\u6587\u7ae0\u6a19\u984c\uff1a"}),Object(be.jsx)(en,{type:"text",id:"title",name:"content",value:t,onChange:function(e){r(e.target.value)}}),Object(be.jsx)("label",{htmlFor:"content",children:"\u6587\u7ae0\u5167\u5bb9\uff1a"}),Object(be.jsx)(pn,{id:"content",name:"content",value:o,onChange:function(e){i(e.target.value)}}),Object(be.jsx)(nn,{children:"\u9001\u51fa\u6587\u7ae0"})]})},On=t(21),fn=t.n(On),xn=ee.a.div(A||(A=Object(X.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),mn=ee.a.button(D||(D=Object(X.a)(["\n  background: none;\n  border: none;\n  padding: 0.5rem 1rem;\n  width: 6rem;\n  cursor: ",";\n  font-size: 1rem;\n  color: inherit;\n"])),(function(e){return e.$active&&"pointer;"})),gn=ee.a.div($||($=Object(X.a)(["\n  display: flex;\n"]))),vn=ee.a.button(_||(_=Object(X.a)(["\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  border-radius: 50%;\n  border: 1px solid transparent;\n  width: 2.25rem;\n  height: 2.25rem;\n  margin: 0.25rem;\n\n  &:hover {\n    border-color: black;\n  }\n"])),(function(e){return e.$active?"black":"transparent"}),(function(e){return e.$active?"white":"black"}),(function(e){return!e.$active&&"pointer"})),wn=ee.a.button(M||(M=Object(X.a)(["\n  background-color: transparent;\n  border: 1px solid transparent;\n  width: 2.25rem;\n  height: 2.25rem;\n  margin: 0.25rem;\n"]))),kn=function(e){var n=e.page,t=e.setPage,r=e.lastPage,c=Object(Z.useState)([]),a=Object(W.a)(c,2),o=a[0],i=a[1];return Object(Z.useEffect)((function(){i([]);for(var e=function(e){return e-n>2&&e!==r&&e+1!==r?(i((function(n){return[].concat(Object(Ce.a)(n),[Object(be.jsx)(wn,{children:"..."},e)])})),c=e=r-1,"continue"):n-e>3&&1!==e?(i((function(n){return[].concat(Object(Ce.a)(n),[Object(be.jsx)(wn,{children:"..."},e)])})),c=e=n-3,"continue"):(i((function(r){return c=e,[].concat(Object(Ce.a)(r),[e===n?Object(be.jsx)(vn,{$active:!0,children:e},e):Object(be.jsx)(vn,{$active:!1,onClick:function(){return t(e)},children:e},e)])})),void(c=e))},c=1;c<=r;c++)e(c)}),[n,t,r]),Object(be.jsxs)(xn,{children:[n>1?Object(be.jsx)(mn,{$active:!0,onClick:function(){return t((function(e){return e-1}))},children:"\uff1c\u4e0a\u4e00\u9801"}):Object(be.jsx)(mn,{$active:!1}),Object(be.jsx)(gn,{children:Object(Ce.a)(o)}),n<r?Object(be.jsx)(mn,{$active:!0,onClick:function(){return t((function(e){return e+1}))},children:"\u4e0b\u4e00\u9801\uff1e"}):Object(be.jsx)(mn,{$active:!1})]})},yn=ee.a.div(Y||(Y=Object(X.a)([""]))),Sn=ee.a.div(N||(N=Object(X.a)(["\n  padding: 0 0 3rem;\n  min-height: 14.5625rem;\n"]))),Cn=ee.a.div(U||(U=Object(X.a)(["\n  height: 11.5625rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),zn=function(e){var n=e.setIsLoading,t=Object(Z.useState)([]),r=Object(W.a)(t,2),c=r[0],a=r[1],o=Object(Z.useState)(1),i=Object(W.a)(o,2),s=i[0],u=i[1],b=Object(Z.useState)(0),j=Object(W.a)(b,2),l=j[0],d=j[1],p=Object(Z.useState)(!1),h=Object(W.a)(p,2),O=h[0],f=h[1];return Object(Z.useLayoutEffect)((function(){n(!0),Ne().then((function(e){d(Math.ceil(e.length/5))}))}),[]),Object(Z.useEffect)((function(){f(!0),Ue(s).then((function(e){a(e),n(!1),f(!1)}))}),[s]),Object(be.jsxs)(yn,{children:[Object(be.jsx)(Sn,{children:O?!!c.length&&!!l&&Object(be.jsx)(Cn,{children:Object(be.jsx)(fn.a,{type:"bubbles",color:ie})}):c.map((function(e){return Object(be.jsx)(He,{post:e},e.id)}))}),!!c.length&&!!l&&Object(be.jsx)(kn,{page:s,setPage:u,lastPage:l})]})},Ln=ee.a.div(q||(q=Object(X.a)(["\n  height: 50vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n"]))),In=ee.a.h2(J||(J=Object(X.a)(["\n  font-size: 3rem;\n"]))),Pn=ee.a.p(B||(B=Object(X.a)(["\n  font-size: 1.1rem;\n  color: #757575;\n  text-align: center;\n"]))),En=function(){return Object(be.jsxs)(Ln,{children:[Object(be.jsx)(In,{children:"Large"}),Object(be.jsxs)(Pn,{children:["\u4e00\u500b\u60f3\u5047\u88dd\u81ea\u5df1\u662f Medium",Object(be.jsx)("br",{}),"\u4f46\u5176\u5be6\u662f\u6a21\u4eff ",Object(be.jsx)("a",{href:"https://blog.huli.tw/",rel:"noopener noreferrer",target:"_blank",children:"Huli's Blog"})," \u7684\u90e8\u843d\u683c"]})]})},Fn=ee.a.div(T||(T=Object(X.a)(["\n  position: absolute;\n  top: 53px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Hn=ee.a.div(G||(G=Object(X.a)(["\n  position: relative;\n  top: -10%;\n"]))),An=function(){return Object(be.jsx)(Fn,{children:Object(be.jsx)(Hn,{children:Object(be.jsx)(fn.a,{type:"bubbles",color:ie})})})},Dn=ee.a.div(R||(R=Object(X.a)(["\n padding-top: 53px;\n"]))),$n=ee.a.div(K||(K=Object(X.a)(["\n  margin: 0 auto;\n  padding: 3rem 1.5rem 0;\n\n  @media screen and (min-width: 1024px) {\n    width: 50rem;\n  }\n"])));var _n=function(){var e=Object(Z.useState)(null),n=Object(W.a)(e,2),t=n[0],r=n[1],c=Object(Z.useState)(!1),a=Object(W.a)(c,2),o=a[0],i=a[1];return Object(Z.useEffect)((function(){oe()&&Ge().then((function(e){var n=e.ok,t=e.data;n?r(t):console.log(t)}))}),[]),Object(be.jsx)(re.Provider,{value:{user:t,setUser:r},children:Object(be.jsx)(Dn,{children:Object(be.jsxs)(ne.a,{children:[Object(be.jsx)(ke,{}),o&&Object(be.jsx)(An,{}),Object(be.jsx)($n,{children:Object(be.jsxs)(te.c,{children:[Object(be.jsx)(te.a,{exact:!0,path:"/",children:Object(be.jsx)(Xe,{setIsLoading:i})}),Object(be.jsx)(te.a,{path:"/list",children:Object(be.jsx)(zn,{setIsLoading:i})}),Object(be.jsx)(te.a,{path:"/new",children:Object(be.jsx)(hn,{})}),Object(be.jsx)(te.a,{path:"/about",children:Object(be.jsx)(En,{})}),Object(be.jsx)(te.a,{path:"/login",children:Object(be.jsx)(rn,{setIsLoading:i})}),Object(be.jsx)(te.a,{path:"/register",children:Object(be.jsx)(ln,{setIsLoading:i})}),Object(be.jsx)(te.a,{path:"/posts/:id",children:Object(be.jsx)(jn,{setIsLoading:i})})]})}),!o&&Object(be.jsx)(Se,{isLoading:o})]})})})};V.a.render(Object(be.jsx)(_n,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.d95f7d96.chunk.js.map