{"version":3,"sources":["contexts.js","utils.js","constants.js","components/Header/Header.js","components/Footer/Footer.js","components/utils/Post.js","WebAPI.js","pages/HomePage/HomePage.js","components/utils/Form.js","pages/LoginPage/LoginPage.js","pages/PostPage/PostPage.js","pages/RegisterPage/RegisterPage.js","pages/NewPostPage/NewPostPage.js","pages/ListPage/Paginator.js","pages/ListPage/ListPage.js","pages/AboutPage/AboutPage.js","components/App.js","index.js"],"names":["AuthContext","createContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","blackDefault","grayLine","blueLink","HeaderContainer","styled","header","HeaderInnerContainer","div","LeftContainer","Brand","Link","NavbarList","Nav","NavLink","activeStyle","color","Header","useContext","user","setUser","location","useLocation","history","useHistory","to","onClick","pathname","push","FooterContainer","footer","Footer","href","PostContainer","PostTitle","PostDate","time","Post","post","title","createdAt","moment","format","id","BASE_URL","POST_SORT","POST_ORDER","getPosts","a","fetch","response","json","data","getListPosts","page","getPost","getUser","userId","register","userData","username","password","nickname","method","headers","body","JSON","stringify","login","getMe","ok","Error","newPost","HomePageContainer","YearContainer","Year","HomePage","useState","posts","setPosts","years","setYears","useEffect","then","yearsArray","Date","getFullYear","Set","map","year","filter","Form","form","Input","input","Button","button","ErrorMessage","p","LoginPage","setUsername","setPassword","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","loginResponse","message","getMeResponse","onSubmit","htmlFor","value","onChange","target","required","type","Title","h2","Info","Author","span","Time","Content","main","PostPage","useParams","setPost","RegisterPage","setNickname","registerResponse","PostForm","TextArea","textarea","NewPostPage","setTitle","content","setContent","name","PaginatorContainer","Pagination","props","$active","ButtonContainer","Dots","Paginator","setPage","lastPage","pages","setPages","i","prev","ListPageContainer","PostsContainer","ListPage","setLastPage","Math","ceil","length","Container","Description","AboutPage","Root","App","console","log","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd47303a.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const AuthContext = createContext(null)","const TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => localStorage.setItem(TOKEN_NAME, token)\r\nexport const getAuthToken = () => localStorage.getItem(TOKEN_NAME)","export const blackDefault = '#4A4A4A'\r\nexport const blackTitle = '#363636'\r\nexport const grayLine = '#dbdbdb'\r\nexport const blueLink = '#3273DC'","import styled from 'styled-components'\r\nimport { Link, NavLink, useHistory, useLocation } from 'react-router-dom'\r\nimport { useContext } from 'react'\r\nimport { AuthContext } from '../../contexts'\r\nimport { setAuthToken } from '../../utils'\r\nimport { blackDefault, blueLink, grayLine } from '../../constants'\r\n\r\nconst HeaderContainer = styled.header`\r\n  background: white;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  border-bottom: 1px solid ${grayLine};\r\n`\r\n\r\nconst HeaderInnerContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 50rem;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst LeftContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst Brand = styled(Link)`\r\n  font-size: 1.5rem;\r\n  font-weight: 600;\r\n  color: ${blackDefault};\r\n  cursor: pointer;\r\n  padding: 0.5rem 1rem;\r\n  line-height: 1.5;\r\n\r\n  &:hover {\r\n    color: ${blueLink};\r\n  }\r\n`\r\n\r\nconst NavbarList = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst Nav = styled(NavLink)`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  font-size: 1.1rem;\r\n  color: ${blackDefault};\r\n  padding: 0.5rem 1rem;\r\n  line-height: 1.5;\r\n\r\n  &:hover {\r\n    color: ${blueLink};\r\n  }\r\n`\r\n\r\nconst activeStyle = {\r\n  color: blueLink\r\n}\r\n\r\nconst Header = () => {\r\n  const { user, setUser } = useContext(AuthContext)\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n  const handleLogout = () => {\r\n    setAuthToken(null)\r\n    setUser(null)\r\n    if (location.pathname !== '/') {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer>\r\n      <HeaderInnerContainer>\r\n        <LeftContainer>\r\n          <Brand to=\"/\">Large</Brand>\r\n          <NavbarList>\r\n            <Nav to=\"/list\" activeStyle={activeStyle}>文章列表</Nav>\r\n            {user && <Nav to=\"/new\" activeStyle={activeStyle}>發布文章</Nav>}\r\n            <Nav to=\"/about\" activeStyle={activeStyle}>About</Nav>\r\n          </NavbarList>\r\n        </LeftContainer>\r\n        <NavbarList>\r\n          {\r\n            user ?\r\n            <Nav to=\"/\" onClick={handleLogout}>登出</Nav> :\r\n            <>\r\n              <Nav to=\"/register\" activeStyle={activeStyle}>註冊</Nav>\r\n              <Nav to=\"/login\" activeStyle={activeStyle}>登入</Nav>\r\n            </>\r\n          }\r\n        </NavbarList>\r\n      </HeaderInnerContainer>\r\n    </HeaderContainer>\r\n  )\r\n}\r\n\r\nexport default Header;\r\n","import styled from 'styled-components'\r\nimport { grayLine } from '../../constants';\r\n\r\nconst FooterContainer = styled.footer`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-top: 1px solid ${grayLine};\r\n  padding-top: 2rem;\r\n  margin: 5rem 0;\r\n  font-size: 0.9rem;\r\n`\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <FooterContainer>\r\n      <pre>© 2021 Allen  Powered by <a href=\"https://reactjs.org/\">React</a></pre>\r\n      <a href=\"https://github.com/rockyooooooo/react-blog\">GitHub</a>\r\n    </FooterContainer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","import styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from 'moment'\r\n\r\nconst PostContainer = styled.div`\r\n  padding: 0.5rem 1.5rem;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 1rem;\r\n  border-left: 3px solid transparent;\r\n\r\n  &:hover {\r\n    border-left-color: black;\r\n  }\r\n`\r\n\r\nconst PostTitle = styled(Link)`\r\n  color: #333;\r\n  border-bottom: 1px dotted transparent;\r\n  line-height: 1.125;\r\n\r\n  &:hover {\r\n    border-bottom-color: darkgray;\r\n  }\r\n`\r\n\r\nconst PostDate = styled.time`\r\n  flex-shrink: 0;\r\n  color: #757575;\r\n  font-size: 0.9rem;\r\n  font-family: monospace;\r\n`\r\n\r\nconst Post = ({ post }) => {\r\n  const { title, createdAt } = post\r\n\r\n  return (\r\n    <PostContainer>\r\n      <PostDate>{moment(createdAt).format(\"MM月DD日\")}</PostDate>\r\n      {/* <PostDate>{new Date(createdAt).toLocaleDateString()}</PostDate> */}\r\n      <PostTitle to={`/posts/${post.id}`}>{title}</PostTitle>\r\n    </PostContainer>\r\n  )\r\n}\r\n\r\nPost.propTypes = {\r\n  post: PropTypes.shape({\r\n    title: PropTypes.string,\r\n    body: PropTypes.string,\r\n    createdAt: PropTypes.number,\r\n    userId: PropTypes.oneOfType([\r\n      PropTypes.number,\r\n      PropTypes.string\r\n    ]),\r\n    id: PropTypes.number\r\n  })\r\n}\r\n\r\nexport default Post","import { getAuthToken } from \"./utils\"\r\nconst BASE_URL = 'https://student-json-api.lidemy.me'\r\nconst POST_LIMIT = 5\r\nconst POST_SORT = 'createdAt'\r\nconst POST_ORDER = 'desc'\r\n\r\nexport const getPosts = async() => {\r\n  const response = await fetch(`${BASE_URL}/posts?_sort=${POST_SORT}&_order=${POST_ORDER}`)\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const getListPosts = async(page) => {\r\n  const response = await fetch(`${BASE_URL}/posts?_page=${page}&_limit=${POST_LIMIT}&_sort=${POST_SORT}&_order=${POST_ORDER}`)\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const getPost = async(id) => {\r\n  const response = await fetch(`${BASE_URL}/posts/${id}`)\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const getUser = async(userId) => {\r\n  const response = await fetch(`${BASE_URL}/users/${userId}`)\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const register = async(userData) => {\r\n  const { username, password, nickname } = userData\r\n  const response = await fetch(`${BASE_URL}/register`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      nickname,\r\n      username,\r\n      password\r\n    })\r\n  })\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\nexport const login = async (username, password) => {\r\n  const response = await fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      username,\r\n      password\r\n    })\r\n  })\r\n  const data = await response.json()\r\n  return data\r\n}\r\n\r\n// export const getMe = async () => {\r\n//   const token = getAuthToken()\r\n//   return fetch(`${BASE_URL}/m1e`, {\r\n//     headers: {\r\n//       'authorization': `Bearer ${token}`\r\n//     }\r\n//   })\r\n//     .then((res) => {\r\n//       if (!res.ok) throw new Error('Network response was not ok in getMe.')\r\n//       return res.json()\r\n//     })\r\n//     .catch((error) => {\r\n//       return {\r\n//         ok: 0,\r\n//         data: error\r\n//       }\r\n//     })\r\n// }\r\n\r\nexport const getMe = async () => {\r\n  const token = getAuthToken()\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/me`, {\r\n      headers: {\r\n        'authorization': `Bearer ${token}`\r\n      }\r\n    })\r\n    if (!response.ok) throw new Error('Network response was not ok in getMe.')\r\n    const data = await response.json()\r\n    return data\r\n  } catch (error) {\r\n    return {\r\n      ok: 0,\r\n      data: error\r\n    }\r\n  }\r\n}\r\n\r\nexport const newPost = async (title, body) => {\r\n  const token = getAuthToken()\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/posts`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n        'authorization': `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        title,\r\n        body\r\n      })\r\n    })\r\n    if (!response.ok) throw new Error('Network response was not ok in newPost.')\r\n    const data = await response.json()\r\n    return data\r\n  } catch (error) {\r\n    return {\r\n      ok: 0,\r\n      data: error\r\n    }\r\n  }\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Post from '../../components/utils/Post'\r\nimport { getPosts } from '../../WebAPI'\r\nimport { grayLine } from '../../constants'\r\n\r\nconst HomePageContainer = styled.div``\r\n\r\nconst YearContainer = styled.div`\r\n  margin-bottom: 3rem;\r\n`\r\n\r\nconst Year = styled.div`\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1.5rem;\r\n  line-height: 1.125;\r\n`\r\n\r\nconst PostContainer = styled.div`\r\n  border-left: 1px solid ${grayLine}\r\n`\r\n\r\nconst HomePage = () => {\r\n  const [posts, setPosts] = useState([])\r\n  const [years, setYears] = useState([])\r\n\r\n  useEffect(() => {\r\n    getPosts().then((posts) => {\r\n      setPosts(posts)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const yearsArray = []\r\n    for(const post of posts) {\r\n      yearsArray.push(new Date(post.createdAt).getFullYear())\r\n    }\r\n    setYears([...new Set(yearsArray)])\r\n  }, [posts])\r\n\r\n  return (\r\n    <HomePageContainer>\r\n      {years.map((year) => {\r\n        return (\r\n          <YearContainer key={year}>\r\n            <Year>{year}</Year>\r\n            <PostContainer>\r\n              {\r\n                posts\r\n                  .filter((post) => new Date(post.createdAt).getFullYear() === year)\r\n                  .map((post) => <Post key={post.id} post={post} />)\r\n              }\r\n            </PostContainer>\r\n          </YearContainer>\r\n        )\r\n      })}\r\n    </HomePageContainer>\r\n  )\r\n}\r\n\r\nexport default HomePage;\r\n","import styled from 'styled-components'\r\nimport { grayLine } from '../../constants'\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n  width: 15rem;\r\n  margin: 0 auto;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  padding: 0.25rem;\r\n  font-size: 1rem;\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 0;\r\n  border-bottom: 1px solid ${grayLine};\r\n  transition: border-bottom 300ms ease;\r\n\r\n  &:focus {\r\n  border-bottom: 1px solid black;\r\n  }\r\n`\r\n\r\nexport const Button = styled.button`\r\n  margin-top: 1rem;\r\n  padding: 0.25rem;\r\n  font-size: 0.9rem;\r\n  background-color: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n`\r\n\r\nexport const ErrorMessage = styled.p`\r\n  color: red;\r\n`","import { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { login, getMe } from '../../WebAPI'\r\nimport { setAuthToken } from '../../utils'\r\nimport { AuthContext } from '../../contexts'\r\nimport { Button, ErrorMessage, Form, Input } from '../../components/utils/Form'\r\n\r\nconst LoginPage = () => {\r\n  const { setUser } = useContext(AuthContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault()\r\n    setErrorMessage(null)\r\n\r\n    const loginResponse = await login(username, password)\r\n    const {  message, token } = loginResponse\r\n    if (!loginResponse.ok) {\r\n      setErrorMessage(message)\r\n      return\r\n    }\r\n    setAuthToken(token)\r\n\r\n    const getMeResponse = await getMe()\r\n    const { data } = getMeResponse\r\n    if (!getMeResponse.ok) {\r\n      setAuthToken(null)\r\n      setErrorMessage(data)\r\n      return\r\n    }\r\n    setUser(data)\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <h2>登入</h2>\r\n      <label htmlFor=\"username\">Username:</label>\r\n      <Input id=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} required />\r\n      <label htmlFor=\"password\">Password:</label>\r\n      <Input id=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n      <Button>登入</Button>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default LoginPage;\r\n","import moment from 'moment'\r\nimport { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { blackDefault, blackTitle } from '../../constants'\r\nimport { getPost, getUser } from '../../WebAPI'\r\n\r\nconst PostContainer = styled.div`\r\n  width: 42.5rem;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst Title = styled.h2`\r\n  margin-bottom: 1rem;\r\n  font-size: 2rem;\r\n  font-weight: 400;\r\n  line-height: 1.125;\r\n  color: ${blackTitle};\r\n`\r\n\r\nconst Info = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-bottom: 0.75rem;\r\n`\r\n\r\nconst Author = styled.span``\r\n\r\nconst Time = styled.span`\r\n  color: ${blackDefault};\r\n  font-size: 0.9rem;\r\n`\r\n\r\nconst Content = styled.main`\r\n  white-space: pre-wrap;\r\n  margin-bottom: 4rem;\r\n  color: ${blackDefault};\r\n  font-size: 1.1rem;\r\n`\r\n\r\nconst PostPage = () => {\r\n  const { id } = useParams()\r\n  const [post, setPost] = useState(null)\r\n  const [user, setUser] = useState(null)\r\n\r\n  useEffect(() => {\r\n    getPost(id).then((data) => {\r\n      setPost(data)\r\n    })\r\n  }, [id])\r\n\r\n  useEffect(() => {\r\n    if (!post) return\r\n    getUser(post.userId).then((data) => {\r\n      setUser(data)\r\n    })\r\n  }, [post])\r\n\r\n  return (\r\n    <>\r\n      {post && user && <PostContainer>\r\n          <Title>{post.title}</Title>\r\n          <Info>\r\n            <Author>{user && user.nickname}</Author>\r\n            <Time>{moment(post.createdAt).format('YYYY年MM月DD日')}</Time>\r\n          </Info>\r\n          <Content>{post.body}</Content>\r\n      </PostContainer>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PostPage","import { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { register, getMe } from '../../WebAPI'\r\nimport { setAuthToken } from '../../utils'\r\nimport { AuthContext } from '../../contexts'\r\nimport { Button, ErrorMessage, Form, Input } from '../../components/utils/Form'\r\n\r\nconst RegisterPage = () => {\r\n  const { setUser } = useContext(AuthContext)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [nickname, setNickname] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault()\r\n    setErrorMessage(null)\r\n\r\n    const registerResponse = await register({username, password, nickname})\r\n    const {  message, token } = registerResponse\r\n    if (!registerResponse.ok) {\r\n      setErrorMessage(message)\r\n      return\r\n    }\r\n    setAuthToken(token)\r\n\r\n    const getMeResponse = await getMe()\r\n    const { data } = getMeResponse\r\n    if (!getMeResponse.ok) {\r\n      setAuthToken(null)\r\n      setErrorMessage(data)\r\n      return\r\n    }\r\n    setUser(data)\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <h2>註冊</h2>\r\n      <label htmlFor=\"username\">Username:</label>\r\n      <Input id=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} required />\r\n      <label htmlFor=\"password\">Password:</label>\r\n      <Input id=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n      <label htmlFor=\"nickname\">Nickname:</label>\r\n      <Input id=\"nickname\" value={nickname} onChange={(e) => setNickname(e.target.value)} required />\r\n      <Button>註冊</Button>\r\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default RegisterPage;\r\n","import { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\nimport { Form, Button, Input } from \"../../components/utils/Form\"\r\nimport { grayLine } from \"../../constants\"\r\nimport { newPost } from \"../../WebAPI\"\r\n\r\nconst PostForm = styled(Form)`\r\n  gap: 1rem;\r\n  width: 50rem;\r\n`\r\n\r\nconst TextArea = styled.textarea`\r\n  resize: none;\r\n  padding: 0.5rem;\r\n  font-family: inherit;\r\n  font-size: 1rem;\r\n  height: 25rem;\r\n  border-color: ${grayLine};\r\n  outline: none;\r\n  transition: border-color 300ms ease;\r\n\r\n  &:focus {\r\n    border: 1px solid black;\r\n  }\r\n`\r\n\r\nconst NewPostPage = () => {\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n    const history = useHistory()\r\n\r\n  const handleInputChange = (e) => {\r\n    setTitle(e.target.value)\r\n  }\r\n\r\n  const handleTextareaChange = (e) => {\r\n    setContent(e.target.value)\r\n  }\r\n\r\n  const handleSubmit = async(e) => {\r\n    e.preventDefault()\r\n    await newPost(title, content)\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <PostForm onSubmit={handleSubmit}>\r\n      <label htmlFor=\"title\">文章標題：</label>\r\n      <Input type=\"text\" id=\"title\" name=\"content\" value={title} onChange={handleInputChange} />\r\n      <label htmlFor=\"content\">文章內容：</label>\r\n      <TextArea id=\"content\" name=\"content\" value={content} onChange={handleTextareaChange} />\r\n      <Button >送出文章</Button>\r\n    </PostForm>\r\n  )\r\n}\r\n\r\nexport default NewPostPage","import styled from 'styled-components'\r\nimport PropTypes from 'prop-types'\r\nimport { useEffect, useState } from 'react'\r\n\r\nconst PaginatorContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst Pagination = styled.button`\r\n  background: none;\r\n  border: none;\r\n  padding: 0.5rem 1rem;\r\n  width: 6rem;\r\n  cursor: ${(props) => props.$active && \"pointer;\"};\r\n  font-size: 1rem;\r\n  color: inherit;\r\n`\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst Button = styled.button`\r\n  background-color: ${(props) => props.$active ? \"black\" : \"transparent\"};\r\n  color: ${(props) => props.$active ? \"white\" : \"black\"};\r\n  cursor: ${(props) => !props.$active && \"pointer\"};\r\n  border-radius: 50%;\r\n  border: 1px solid transparent;\r\n  width: 2.25rem;\r\n  height: 2.25rem;\r\n  margin: 0.25rem;\r\n\r\n  &:hover {\r\n    border-color: black;\r\n  }\r\n`\r\n\r\nconst Dots = styled.button`\r\n  background-color: transparent;\r\n  border: 1px solid transparent;\r\n  width: 2.25rem;\r\n  height: 2.25rem;\r\n  margin: 0.25rem;\r\n`\r\n\r\nconst Paginator = ({ page, setPage, lastPage }) => {\r\n  const [pages, setPages] = useState([])\r\n\r\n  useEffect(() => {\r\n    setPages([])\r\n    for(let i = 1; i <= lastPage; i++) {\r\n      if (i - page > 2 && i !== lastPage && i + 1 !== lastPage) {\r\n        setPages((prev) => [...prev, <Dots key={i}>...</Dots>])\r\n        i = lastPage - 1\r\n        continue\r\n      }\r\n      if (page - i > 3 && i !== 1) {\r\n        setPages((prev) => [...prev, <Dots key={i}>...</Dots>])\r\n        i = page - 3\r\n        continue\r\n      }\r\n\r\n      setPages((prev) => {\r\n        return [\r\n          ...prev,\r\n          i === page ?\r\n          <Button key={i} $active={true}>{i}</Button> :\r\n          <Button key={i} $active={false} onClick={() => setPage(i)}>{i}</Button>\r\n        ]\r\n      })\r\n    }\r\n  }, [page, setPage, lastPage])\r\n\r\n  return (\r\n    <PaginatorContainer>\r\n      {\r\n        page > 1 ?\r\n        <Pagination $active={true} onClick={() => setPage((prev) => prev - 1)}>＜上一頁</Pagination> :\r\n        <Pagination $active={false} />\r\n      }\r\n      <ButtonContainer>\r\n        {[...pages]}\r\n      </ButtonContainer>\r\n      {\r\n        page < lastPage ?\r\n        <Pagination $active={true} onClick={() => setPage((prev) => prev + 1)}>下一頁＞</Pagination> :\r\n        <Pagination $active={false} />\r\n      }\r\n    </PaginatorContainer>\r\n  )\r\n}\r\n\r\nPaginator.propTypes = {\r\n  page:PropTypes.number,\r\n  setPage: PropTypes.func,\r\n  lastPage: PropTypes.number\r\n}\r\n\r\nexport default Paginator","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Post from '../../components/utils/Post'\r\nimport { getListPosts, getPosts } from '../../WebAPI'\r\nimport Paginator from './Paginator'\r\n\r\nconst ListPageContainer = styled.div``\r\n\r\nconst PostsContainer = styled.div`\r\n  padding: 0 0 3rem;\r\n`\r\n\r\nconst ListPage = () => {\r\n  const [posts, setPosts] = useState([])\r\n  const [page, setPage] = useState(1)\r\n  const [lastPage, setLastPage] = useState(0)\r\n\r\n  useEffect(() => {\r\n    getPosts().then((posts) => {\r\n      setLastPage(Math.ceil(posts.length / 5))\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getListPosts(page).then((posts) => {\r\n      setPosts(posts)\r\n    })\r\n  }, [page])\r\n\r\n  return (\r\n    <ListPageContainer>\r\n      <PostsContainer>\r\n        {posts.map((post) => <Post key={post.id} post={post} />)}\r\n      </PostsContainer>\r\n      {/* 只用 post.length 跟 lastPage 的話會在畫面顯示 0 */}\r\n      {!!posts.length && !!lastPage && <Paginator page={page} setPage={setPage} lastPage={lastPage} />}\r\n    </ListPageContainer>\r\n  )\r\n}\r\n\r\nexport default ListPage;\r\n","import styled from 'styled-components'\r\n\r\nconst Container = styled.div`\r\n  height: 50vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`\r\n\r\nconst Title = styled.h2`\r\n  font-size: 3rem;\r\n`\r\n\r\nconst Description = styled.p`\r\n  font-size: 1.1rem;\r\n  color: #757575;\r\n  text-align: center;\r\n`\r\n\r\nconst AboutPage = () => {\r\n  return (\r\n    <Container>\r\n      <Title>Large</Title>\r\n      <Description>\r\n        一個想假裝自己是 Medium\r\n        <br />\r\n        但其實是模仿 <a href=\"https://blog.huli.tw/\">Huli's Blog</a> 的部落格\r\n      </Description>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default AboutPage;\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport HomePage from '../pages/HomePage'\r\nimport LoginPage from '../pages/LoginPage'\r\nimport PostPage from '../pages/PostPage'\r\nimport RegisterPage from '../pages/RegisterPage/RegisterPage'\r\nimport NewPostPage from '../pages/NewPostPage'\r\nimport ListPage from '../pages/ListPage'\r\nimport { AuthContext } from '../contexts'\r\nimport { getMe } from '../WebAPI'\r\nimport { getAuthToken } from '../utils'\r\nimport AboutPage from '../pages/AboutPage'\r\n\r\nconst Root = styled.div`\r\n padding-top: 53px;\r\n`\r\n\r\nconst Container = styled.div`\r\n  width: 50rem;\r\n  margin: 0 auto;\r\n  padding-top: 3rem;\r\n`\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null)\r\n\r\n  useEffect(() => {\r\n    // todo: 有 token 才 call api\r\n    const token = getAuthToken()\r\n    if (!token) return\r\n    getMe().then((response) => {\r\n      const { ok, data } = response\r\n      if (!ok) {\r\n        console.log(data)\r\n        return\r\n      }\r\n      setUser(data)\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser }}>\r\n      <Root>\r\n        <Router>\r\n          <Header />\r\n          <Container>\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <HomePage />\r\n              </Route>\r\n              <Route exact path=\"/list\">\r\n                <ListPage />\r\n              </Route>\r\n              <Route path=\"/new\">\r\n                <NewPostPage />\r\n              </Route>\r\n              <Route path=\"/about\">\r\n                <AboutPage />\r\n              </Route>\r\n              <Route path=\"/login\">\r\n                <LoginPage />\r\n              </Route>\r\n              <Route path=\"/register\">\r\n                <RegisterPage />\r\n              </Route>\r\n              <Route path=\"/posts/:id\">\r\n                <PostPage />\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n          </Container>\r\n        </Router>\r\n      </Root>\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}